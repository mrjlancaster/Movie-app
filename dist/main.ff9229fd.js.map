{"version":3,"sources":["js/movieSearch.js","js/welcome.js","js/findById.js","js/topRatedMovies.js","js/popular.js","js/main.js"],"names":["searchInput","document","querySelector","imageBaseURL","backdrop_image","displaySearch","obj","topRatedContainer","output","heading","result","results","count","total_results","classList","add","innerText","movie","tvShows","forEach","item","media_type","poster_path","posterPlaceholder","id","title","name","innerHTML","value","welcome","poster","backdrop_path","overview","movieById_URL","style","backgroundImage","console","log","fetch","then","response","json","movieById","genres","moviePoster","catch","error","findById","data","cardWrapper","releaseDate","release_date","split","genreList","card","vote_average","runtime","homepage","displayTopRatedMovies","topRated","topRatedHeading","movies","displayPopular","popular","popularHeading","searchButton","api_key","multiSearch_url","upcoming_URL","topRated_URL","popular_URL","getData","url","func","addEventListener","e","keyCode","searchMovie","handleData","displayUpcomingMovies","handleModal","modal","modalCard","remove","target","movieID","dataset","movieId","tagName","toLowerCase"],"mappings":"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","file":"main.ff9229fd.js","sourceRoot":"..","sourcesContent":["const searchInput = document.querySelector('.search__input');\r\nconst imageBaseURL = 'https://image.tmdb.org/t/p/w500/';\r\nconst backdrop_image = 'https://image.tmdb.org/t/p/original/'\r\n\r\n// Poster placeholder\r\nimport posterPlaceholder from '../img/poster_unavailable.jpg';\r\n\r\n// HANDLE SEARCH DISPLAY\r\nexport const displaySearch = (obj) => {\r\n    const topRatedContainer = document.querySelector('.top__rated');\r\n    const output = document.querySelector('.output');\r\n    const heading = document.querySelector('.search__results--heading');\r\n    const result = obj.results;\r\n    const count = obj.total_results;\r\n\r\n    // clear top rated container\r\n    topRatedContainer.classList.add('hideAll');\r\n\r\n    if (count === 0) {\r\n        heading.innerText = 'No results found.';\r\n    } else {\r\n        heading.innerText = `${count} results found`;\r\n    }\r\n    \r\n    let movie = '';\r\n    let tvShows = '';\r\n\r\n    result.forEach(item => {\r\n        if (item.media_type === 'movie') {\r\n            movie +=`\r\n            <div class=\"template__wrapper\">\r\n                <img src=${item.poster_path === null ? posterPlaceholder : imageBaseURL + item.poster_path} data-movie-id=${item.id} class=\"search__movie--poster\" alt=\"\" />\r\n                <h4 class=\"search__movie--title\">${item.title}</h4>\r\n            </div>`;\r\n        } else if (item.media_type === 'tv') {\r\n            tvShows +=`\r\n            <div class=\"template__wrapper\">\r\n                <img src=${item.poster_path === null ? posterPlaceholder : imageBaseURL + item.poster_path} data-movie-id=${item.id} class=\"search__movie--poster\" alt=\"\" />\r\n                <h4 class=\"search__movie--title\">${item.name}</h4>\r\n            </div>`;\r\n        }\r\n    })\r\n\r\n    // Output results\r\n    output.innerHTML = movie + tvShows;\r\n\r\n    // Clear input field\r\n    searchInput.value = '';\r\n}","const imageBaseURL = 'https://image.tmdb.org/t/p/original/';\r\n\r\nexport const welcome = (obj) => {\r\n    const welcome = document.querySelector('.welcome');\r\n    const movie = obj.results[11];\r\n    const poster = imageBaseURL + movie.backdrop_path;\r\n    const title = movie.title;\r\n    const overview = movie.overview;\r\n    const movieById_URL = 'https://api.themoviedb.org/3/movie/' + movie.id + '?api_key=' + process.env.API_KEY + '&language=en-US';\r\n\r\n    // Add background poster to welcome container\r\n    welcome.style.backgroundImage = `url(${poster})`;\r\n\r\n    console.log(obj);\r\n    // get current movie info\r\n    fetch(movieById_URL)\r\n        .then(response => response.json())\r\n        .then(movieById => {\r\n            const genres = movieById.genres; // returns an array\r\n\r\n            let moviePoster = `\r\n                <div class=\"welcome__content\">\r\n                    <h1 class=\"welcome__title\">${title}</h1>\r\n                    <div class=\"welcome__description--container\">\r\n                        <p class=\"welcome__description\">${overview}</p>\r\n                        <a href=\"#\" target=\"_blank\" class=\"welcome__button\">View more <i class=\"fas fa-long-arrow-alt-right\"></i></a>\r\n                    </div>\r\n                </div>`;\r\n            \r\n            // Output results\r\n            welcome.innerHTML = moviePoster;\r\n        })\r\n        .catch(error => error);\r\n}","const imageBaseURL = \"https://image.tmdb.org/t/p/w500/\";\r\n\r\nexport const findById = (id) => {\r\n  fetch(\r\n    \"https://api.themoviedb.org/3/movie/\" +\r\n      id +\r\n      \"?api_key=\" +\r\n      process.env.API_KEY +\r\n      \"&language=en-US\"\r\n  )\r\n    .then((response) => response.json())\r\n    .then((data) => {\r\n      const cardWrapper = document.querySelector(\".modal__card\");\r\n      console.log(data);\r\n      const genres = data.genres;\r\n      const releaseDate = data.release_date.split(\"-\");\r\n\r\n      let genreList = \"\";\r\n      genres.forEach((item) => {\r\n        genreList += `<li class=\"modal__item\">${item.name}</li>`;\r\n      });\r\n\r\n      let card = `\r\n                    <div class=\"modal__poster--container\">\r\n                        <img src=${\r\n                          imageBaseURL + data.poster_path\r\n                        } alt=\"Poster\" class=\"modal__poster\">\r\n                    </div>\r\n                    <div class=\"modal__content\">\r\n                        <div class=\"modal__title--wrapper\">\r\n                            <p class=\"modal__rate\"><span class=\"modal__rate--sizeup\"><i class=\"fas fa-star\"></i> ${\r\n                              data.vote_average\r\n                            }</span> / 10</p>\r\n                            <h1 class=\"modal__title\">${data.title}</h1>\r\n                            <ul class=\"modal__list\">${genreList}</ul>\r\n                            <p class=\"modal__releaseDate\">Release date: ${\r\n                              releaseDate[1]\r\n                            }, ${releaseDate[2]}, ${releaseDate[0]}</p>\r\n                            <p clas=\"modal__runtime\">Duration: ${\r\n                              data.runtime\r\n                            }min</p>\r\n                        </div>\r\n                        <div class=\"modal__synopsis--wrapper\">\r\n                            <h3 class=\"modal__overview--heading\">Synopsis</h3>\r\n                            <p class=\"modal__overview\">${data.overview}</p>\r\n                            <a href=\"${\r\n                              data.homepage\r\n                            }\" target=\"_blank\" class=\"modal__button\">Homepage <i class=\"fas fa-long-arrow-alt-right\"></i></a>\r\n                        </div>\r\n                    </div>`;\r\n\r\n      cardWrapper.innerHTML = card;\r\n    })\r\n    .catch((error) => error);\r\n};\r\n","const imageBaseURL = 'https://image.tmdb.org/t/p/w342/';\r\n\r\nexport const displayTopRatedMovies = (obj) => {\r\n    const topRated = document.querySelector('.top__rated--movies');\r\n    const topRatedHeading = document.querySelector('.top__rated--heading');\r\n    const movies = obj.results;\r\n    \r\n    // Insert heading\r\n    topRatedHeading.innerText = 'Top Rated Movies';\r\n\r\n\r\n    // Create movie card\r\n    let movie = '';\r\n    movies.forEach(item => {\r\n        movie +=`\r\n        <div class=\"top__rated--wrapper\">\r\n            <img src=${imageBaseURL + item.poster_path} data-movie-id=${item.id} class=\"top__rated--poster\" alt=\"\" />\r\n            <p class=\"top__rated--title\">${item.title}</p>\r\n        </div>`;\r\n    })\r\n\r\n    // Output results\r\n    topRated.innerHTML = movie;\r\n}","const imageBaseURL = 'https://image.tmdb.org/t/p/w342/';\r\n\r\nexport const displayPopular = (obj) => {\r\n    const popular = document.querySelector('.popular__movies');\r\n    const popularHeading = document.querySelector('.popular__heading');\r\n    const movies = obj.results;\r\n    \r\n    // Insert heading\r\n    popularHeading.innerText = 'Popular Movies';\r\n\r\n\r\n    // Create movie card\r\n    let movie = '';\r\n    movies.forEach(item => {\r\n        movie +=`\r\n        <div class=\"popular__wrapper\">\r\n            <img src=${imageBaseURL + item.poster_path} data-movie-id=${item.id} class=\"popular__poster\" alt=\"\" />\r\n            <p class=\"popular__title\">${item.title}</p>\r\n        </div>`;\r\n    })\r\n\r\n    // Output results\r\n    popular.innerHTML = movie;\r\n}","import { displaySearch } from \"./movieSearch.js\";\r\nimport { welcome } from \"./welcome.js\";\r\nimport { findById } from \"./findById.js\";\r\nimport { displayUpcomingMovies } from \"./upcomingMovies.js\";\r\nimport { displayTopRatedMovies } from \"./topRatedMovies.js\";\r\nimport { displayPopular } from \"./popular.js\";\r\n\r\nconst searchInput = document.querySelector(\".search__input\");\r\nconst searchButton = document.querySelector(\".search\");\r\n\r\nconst api_key = process.env.API_KEY;\r\nconst multiSearch_url =\r\n  \"https://api.themoviedb.org/3/search/multi?api_key=\" +\r\n  api_key +\r\n  \"&include_adult=false\";\r\nconst upcoming_URL =\r\n  \"https://api.themoviedb.org/3/movie/upcoming?api_key=\" + api_key;\r\nconst topRated_URL =\r\n  \"https://api.themoviedb.org/3/movie/top_rated?api_key=\" + api_key;\r\nconst popular_URL = \"https://api.themoviedb.org/3/movie/popular?api_key=\" + api_key;\r\n\r\n// Get data\r\nconst getData = (url, func) => {\r\n  fetch(url)\r\n    .then((response) => response.json())\r\n    .then((data) => func(data))\r\n    .catch((error) => error);\r\n};\r\n\r\n//  SEARCH BAR EVENT LISTENERS\r\nsearchInput.addEventListener(\"keyup\", (e) => {\r\n  if (searchInput.value === \"\") {\r\n    false;\r\n  } else {\r\n    if (e.keyCode === 13) {\r\n      searchMovie();\r\n    }\r\n  }\r\n});\r\n\r\nsearchButton.addEventListener(\"click\", () => {\r\n  if (searchInput.value === \"\") {\r\n    false;\r\n  } else {\r\n    searchMovie();\r\n  }\r\n});\r\n\r\n// Handle movie search\r\nconst searchMovie = () => {\r\n  const value = searchInput.value;\r\n  const multipleSearch = multiSearch_url + \"&query=\" + value;\r\n  getData(multipleSearch, displaySearch);\r\n};\r\n\r\n// Handle data\r\nconst handleData = () => {\r\n  // handle welcome section\r\n  getData(upcoming_URL, welcome);\r\n  // handle upcoming movies\r\n  getData(upcoming_URL, displayUpcomingMovies);\r\n  // handle top rated movies\r\n  getData(topRated_URL, displayTopRatedMovies);\r\n  // handle popular movies\r\n  getData(popular_URL, displayPopular);\r\n};\r\n\r\n// Display movie info on click\r\nconst handleModal = () => {\r\n  const modal = document.querySelector(\".modal\");\r\n  const modalCard = document.querySelector(\".modal__card\");\r\n  const closeModal = document.querySelector(\".close__modal\");\r\n\r\n  closeModal.addEventListener(\"click\", () => {\r\n    modalCard.innerHTML = \"\";\r\n    modal.classList.remove(\"isShown\");\r\n  });\r\n\r\n  document.addEventListener(\"click\", (e) => {\r\n    const target = e.target;\r\n    const movieID = target.dataset.movieId;\r\n\r\n    if (target.tagName.toLowerCase() === \"img\") {\r\n      modal.classList.add(\"isShown\");\r\n      findById(movieID);\r\n    }\r\n  });\r\n};\r\n\r\nhandleModal();\r\nhandleData();\r\n"]}