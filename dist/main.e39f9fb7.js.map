{"version":3,"sources":["js/utils.js","js/main.js"],"names":["searchInput","document","querySelector","imageBaseURL","displayUpcomingMovies","obj","upcoming","movie","results","moviePoster","poster_path","title","overview","innerHTML","displayTopRatedMovies","topRated","movies","forEach","item","displaySearch","upcomingContainer","topRatedContainer","output","heading","result","count","total_results","classList","add","innerText","tvShows","media_type","posterPlaceholder","name","value","searchButton","api_key","multiSearch_url","upcoming_URL","topRated_URL","getData","url","func","fetch","then","response","json","data","catch","error","console","log","addEventListener","e","keyCode","searchMovie","search_url","handleUpcomingMovies","handleTopRatedMovies"],"mappings":";;;AA6IA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,cAAA,QAAA,sBAAA,QAAA,2BAAA,EAzIA,IAAA,EAAA,EAAA,QAAA,kCAyIA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA7IA,IAAMA,EAAcC,SAASC,cAAc,kBACrCC,EAAe,mCAORC,EAAwB,SAACC,GAC5BC,IAAAA,EAAWL,SAASC,cAAc,qBAClCK,EAAQF,EAAIG,QAAQ,GAEtBC,EAGmBN,oIAAAA,OAAAA,EAAeI,EAAMG,YAGFH,0JAAAA,OAAAA,EAAMI,MAGUJ,0LAAAA,OAAAA,EAAMK,SAThE,oEAgCAN,EAASO,UAAYJ,GAiGzB,QAAA,sBAAA,EA7FO,IAAMK,EAAwB,SAACT,GAC5BU,IAAAA,EAAWd,SAASC,cAAc,uBAClCc,EAASX,EAAIG,QAEfD,EAAQ,GACZS,EAAOC,QAAQ,SAAAC,GACXX,GAEeJ,qEAAAA,OAAAA,EAAee,EAAKR,YAFnC,2DAOJK,EAASF,UAAYN,GAgFzB,QAAA,sBAAA,EA1EO,IAAMY,EAAgB,SAACd,GACpBe,IAAAA,EAAoBnB,SAASC,cAAc,aAC3CmB,EAAoBpB,SAASC,cAAc,eAC3CoB,EAASrB,SAASC,cAAc,WAChCqB,EAAUtB,SAASC,cAAc,6BACjCsB,EAASnB,EAAIG,QACbiB,EAAQpB,EAAIqB,cAIlBN,EAAkBO,UAAUC,IAAI,WAChCP,EAAkBM,UAAUC,IAAI,WAG5BL,EAAQM,UADE,IAAVJ,EACoB,oBAEGA,GAAAA,OAAAA,EAAvB,kBAGAlB,IAAAA,EAAQ,GACRuB,EAAU,GAEdN,EAAOP,QAAQ,SAAAC,GACa,UAApBA,EAAKa,WACLxB,GAEeW,2EAAAA,OAAqB,OAArBA,EAAKR,YAAuBsB,EAA5B,QAAgD7B,EAAee,EAAKR,YAC5CQ,+FAAAA,OAAAA,EAAKP,MAH5C,kGAM2B,OAApBO,EAAKa,aACZD,GAEeZ,2EAAAA,OAAqB,OAArBA,EAAKR,YAAuBsB,EAA5B,QAAgD7B,EAAee,EAAKR,YAC5CQ,+FAAAA,OAAAA,EAAKe,KAH5C,qGAURX,EAAOT,UAAYN,EAAQuB,EAG3B9B,EAAYkC,MAAQ,IA8BxB,QAAA,cAAA;;AC9EoB,aA/DpB,IAAA,EAAA,QAAA,cAEMlC,EAAcC,SAASC,cAAc,kBACrCiC,EAAelC,SAASC,cAAc,WAKtCkC,EAAN,mCACMC,EAAkB,qDAAuDD,EAAU,uBACnFE,EAAe,uDAAyDF,EACxEG,EAAe,wDAA0DH,EAGzEI,EAAU,SAACC,EAAKC,GAClBC,MAAMF,GACDG,KAAK,SAAAC,GAAYA,OAAAA,EAASC,SAC1BF,KAAK,SAAAG,GAAQL,OAAAA,EAAKK,KAClBC,MAAM,SAAAC,GAASC,OAAAA,QAAQC,IAAIF,MAIpCjD,EAAYoD,iBAAiB,QAAS,SAACC,GACT,KAAtBrD,EAAYkC,OAGM,KAAdmB,EAAEC,SACFC,MAKZpB,EAAaiB,iBAAiB,QAAS,WACT,KAAtBpD,EAAYkC,OAGZqB,MAMR,IAAMA,EAAc,WACVrB,IAAAA,EAAQlC,EAAYkC,MACXsB,WAGfhB,EAFuBH,EAAkB,UAAYH,EAE7Bf,EAAjB,gBAKLsC,EAAuB,WACzBjB,EAAQF,EAAclC,EAAf,wBAILsD,EAAuB,WACzBlB,EAAQD,EAAczB,EAAf,wBAIX2C,IACAC","file":"main.e39f9fb7.js","sourceRoot":"..","sourcesContent":["const searchInput = document.querySelector('.search__input');\r\nconst imageBaseURL = 'https://image.tmdb.org/t/p/w500/';\r\n\r\n// Poster placeholder\r\nimport posterPlaceholder from '../img/poster_unavailable.jpg';\r\n\r\n\r\n// HANDLE UPCOMING MOVIES DISPLAY\r\nexport const displayUpcomingMovies = (obj) => {\r\n    const upcoming = document.querySelector('.upcoming__movies');\r\n    const movie = obj.results[0];\r\n\r\n    let moviePoster = `\r\n        <div class=\"upcoming__card--wrapper\">\r\n            <div class=\"upcoming__poster--container\">\r\n                <img src=${imageBaseURL + movie.poster_path} class=\"upcoming__poster\" alt=\"\" />\r\n            </div>\r\n            <div class=\"upcoming__description\">\r\n                <h1 class=\"upcoming__title\">${movie.title}</h1>\r\n                <div class=\"upcoming__text--container\">\r\n                    <p class=\"upcoming__story\">Story</p>\r\n                    <p class=\"upcoming__story--description\">${movie.overview}</p>\r\n                </div>\r\n            </div>\r\n        </div>`;\r\n    \r\n    // let movie = '';\r\n    // movies.forEach(item => {\r\n    //     movie +=`\r\n    //     <div class=\"upcoming__card--wrapper\">\r\n    //         <div class=\"upcoming__poster--container\">\r\n    //             <img src=${imageBaseURL + item.poster_path} class=\"upcoming__poster\" alt=\"\" />\r\n    //         </div>\r\n    //         <div class=\"upcoming__description\">\r\n    //             <h1 class=\"upcoming__title\">${item.title}</h1>\r\n    //             <div>\r\n    //                 <p class=\"upcoming__story\">Story</p>\r\n    //                 <p class=\"upcoming__story--description\">${item.overview}</p>\r\n    //             </div>\r\n    //         </div>\r\n    //     </div>`;\r\n    // })\r\n\r\n    // Output results\r\n    upcoming.innerHTML = moviePoster;\r\n}\r\n\r\n// Display Top Rated movies\r\nexport const displayTopRatedMovies = (obj) => {\r\n    const topRated = document.querySelector('.top__rated--movies');\r\n    const movies = obj.results;\r\n    \r\n    let movie = '';\r\n    movies.forEach(item => {\r\n        movie +=`\r\n        <div class=\"top__rated--wrapper\">\r\n            <img src=${imageBaseURL + item.poster_path} class=\"top__rated--poster\" alt=\"\" />\r\n        </div>`;\r\n    })\r\n\r\n    // Output results\r\n    topRated.innerHTML = movie;\r\n}\r\n\r\n\r\n\r\n// HANDLE SEARCH DISPLAY\r\nexport const displaySearch = (obj) => {\r\n    const upcomingContainer = document.querySelector('.upcoming');\r\n    const topRatedContainer = document.querySelector('.top__rated');\r\n    const output = document.querySelector('.output');\r\n    const heading = document.querySelector('.search__results--heading');\r\n    const result = obj.results;\r\n    const count = obj.total_results;\r\n\r\n\r\n    // clear container\r\n    upcomingContainer.classList.add('hideAll');\r\n    topRatedContainer.classList.add('hideAll');\r\n\r\n    if (count === 0) {\r\n        heading.innerText = 'No results found.';\r\n    } else {\r\n        heading.innerText = `${count} results found`;\r\n    }\r\n    \r\n    let movie = '';\r\n    let tvShows = '';\r\n\r\n    result.forEach(item => {\r\n        if (item.media_type === 'movie') {\r\n            movie +=`\r\n            <div class=\"template__wrapper\">\r\n                <img src=${item.poster_path === null ? posterPlaceholder : imageBaseURL + item.poster_path} class=\"search__movie--poster\" alt=\"\" />\r\n                <h4 class=\"search__movie--title\">${item.title}</h4>\r\n                <button class=\"more__details\">More details</button>\r\n            </div>`;\r\n        } else if (item.media_type === 'tv') {\r\n            tvShows +=`\r\n            <div class=\"template__wrapper\">\r\n                <img src=${item.poster_path === null ? posterPlaceholder : imageBaseURL + item.poster_path} class=\"search__movie--poster\" alt=\"\" />\r\n                <h4 class=\"search__movie--title\">${item.name}</h4>\r\n                <button class=\"more__details\">More details</button>\r\n            </div>`;\r\n        }\r\n    })\r\n\r\n    // Output results\r\n    output.innerHTML = movie + tvShows;\r\n\r\n    // Clear input field\r\n    searchInput.value = '';\r\n}\r\n\r\n\r\n// // test handle one\r\n// export const displayOne = (obj) => {\r\n//     const output = document.querySelector('.welcome__section');\r\n//     const data = [obj];\r\n//     const movies = data[0].results[0];\r\n//     const title = movies.title;\r\n//     const poster = movies.poster_path;\r\n//     const story = movies.overview;\r\n\r\n//     let movie =\r\n//             `<div class=\"welcome__title--container\">\r\n//             <div>\r\n//                 <h1 class=\"welcome__title\">${title}</h1>\r\n//                 <p class=\"welcome__title--text\">20 december <span>|</span> Fantasy, Drama</p>\r\n//             </div>\r\n//             </div>\r\n//             <div class=\"welcome__poster--container\">\r\n//             <img class=\"welcome__poster\" src=${imageBaseURL + poster} alt=\"\">\r\n//             </div>\r\n//             <div class=\"description__container\">\r\n//             <h3 class=\"welcome__story--title\">The Story</h3>\r\n//             <p class=\"welcome__story--description\">${story}</p>\r\n//             </div>`;\r\n\r\n//     // Output results\r\n//     output.innerHTML = movie;\r\n// }","import { displayUpcomingMovies, displayTopRatedMovies, displaySearch } from './utils.js';\r\n\r\nconst searchInput = document.querySelector('.search__input');\r\nconst searchButton = document.querySelector('.search');\r\n\r\n// let slideCounter = 0;\r\n// const upcomingCardContainerWidth = container[0].clientWidth;\r\n\r\nconst api_key = process.env.API_KEY;\r\nconst multiSearch_url = 'https://api.themoviedb.org/3/search/multi?api_key=' + api_key + '&include_adult=false';\r\nconst upcoming_URL = 'https://api.themoviedb.org/3/movie/upcoming?api_key=' + api_key;\r\nconst topRated_URL = 'https://api.themoviedb.org/3/movie/top_rated?api_key=' + api_key;\r\n\r\n// Get data\r\nconst getData = (url, func) => {\r\n    fetch(url)\r\n        .then(response => response.json())\r\n        .then(data => func(data))\r\n        .catch(error => console.log(error))\r\n}\r\n\r\n//  SEARCH BAR EVENT LISTENERS\r\nsearchInput.addEventListener('keyup', (e) => {\r\n    if (searchInput.value === '') {\r\n        false;\r\n    } else {\r\n        if (e.keyCode === 13) {\r\n            searchMovie();\r\n        }\r\n    }\r\n})\r\n\r\nsearchButton.addEventListener('click', () => {\r\n    if (searchInput.value === '') {\r\n        false;\r\n    } else {\r\n        searchMovie();\r\n    }\r\n});\r\n\r\n\r\n// Handle movie search\r\nconst searchMovie = () => {\r\n    const value = searchInput.value;\r\n    const movies = search_url + '&query=' + value;\r\n    const multipleSearch = multiSearch_url + '&query=' + value;\r\n    // getData(movies, displaySearch);\r\n    getData(multipleSearch, displaySearch);\r\n}\r\n\r\n\r\n// Handle upcoming movies\r\nconst handleUpcomingMovies = () => {\r\n    getData(upcoming_URL, displayUpcomingMovies);\r\n}\r\n\r\n// Handle top rated movies\r\nconst handleTopRatedMovies = () => {\r\n    getData(topRated_URL, displayTopRatedMovies);\r\n}\r\n\r\n\r\nhandleUpcomingMovies();\r\nhandleTopRatedMovies();\r\n\r\n\r\n\r\n\r\n"]}