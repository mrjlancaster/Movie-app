{"version":3,"sources":["js/utils.js","js/main.js"],"names":["searchInput","document","querySelector","imageBaseURL","displayUpcomingMovies","obj","upcoming","movie","results","moviePoster","poster_path","title","overview","innerHTML","displayTopRatedMovies","topRated","movies","forEach","item","displaySearch","upcomingContainer","topRatedContainer","output","heading","count","total_results","classList","add","innerText","posterPlaceholder","value","searchButton","api_key","search_url","upcoming_URL","topRated_URL","getData","url","func","fetch","then","response","json","data","searchMovie","addEventListener","e","preventDefault","handleUpcomingMovies","handleTopRatedMovies"],"mappings":";;;AAmIA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,cAAA,QAAA,sBAAA,QAAA,2BAAA,EA/HA,IAAA,EAAA,EAAA,QAAA,kCA+HA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAnIA,IAAMA,EAAcC,SAASC,cAAc,kBACrCC,EAAe,mCAORC,EAAwB,SAACC,GAC5BC,IAAAA,EAAWL,SAASC,cAAc,qBAClCK,EAAQF,EAAIG,QAAQ,GAEtBC,EAGmBN,oIAAAA,OAAAA,EAAeI,EAAMG,YAGFH,0JAAAA,OAAAA,EAAMI,MAGUJ,0LAAAA,OAAAA,EAAMK,SAThE,oEAgCAN,EAASO,UAAYJ,GAuFzB,QAAA,sBAAA,EAnFO,IAAMK,EAAwB,SAACT,GAC5BU,IAAAA,EAAWd,SAASC,cAAc,uBAClCc,EAASX,EAAIG,QAEfD,EAAQ,GACZS,EAAOC,QAAQ,SAAAC,GACXX,GAEeJ,qEAAAA,OAAAA,EAAee,EAAKR,YAFnC,2DAOJK,EAASF,UAAYN,GAsEzB,QAAA,sBAAA,EAhEO,IAAMY,EAAgB,SAACd,GACpBe,IAAAA,EAAoBnB,SAASC,cAAc,aAC3CmB,EAAoBpB,SAASC,cAAc,eAC3CoB,EAASrB,SAASC,cAAc,WAChCqB,EAAUtB,SAASC,cAAc,6BAEjCc,EADO,CAACX,GACM,GAAGG,QACjBgB,EAAQnB,EAAIoB,cAGlBL,EAAkBM,UAAUC,IAAI,WAChCN,EAAkBK,UAAUC,IAAI,WAG5BJ,EAAQK,UADE,IAAVJ,EACoB,oBAEGA,GAAAA,OAAAA,EAAvB,kBAGAjB,IAAAA,EAAQ,GACZS,EAAOC,QAAQ,SAAAC,GAEXX,GAEmBW,2EAAAA,OAAqB,OAArBA,EAAKR,YAAuBmB,EAA5B,QAAgD1B,EAAee,EAAKR,YACpDQ,uFAAAA,OAAAA,EAAKP,MAHxC,oGASJW,EAAOT,UAAYN,EAGnBP,EAAY8B,MAAQ,IA8BxB,QAAA,cAAA;;ACtFW,aA7CX,IAAA,EAAA,QAAA,cAEM9B,EAAcC,SAASC,cAAc,kBACrC6B,EAAe9B,SAASC,cAAc,WAOtC8B,EAAN,mCACMC,EAAa,qDAAuDD,EACpEE,EAAe,uDAAyDF,EACxEG,EAAe,wDAA0DH,EAGzEI,EAAU,SAACC,EAAKC,GAClBC,MAAMF,GACDG,KAAK,SAAAC,GAAYA,OAAAA,EAASC,SAC1BF,KAAK,SAAAG,GAAQL,OAAAA,EAAKK,MAIrBC,EAAc,WAChBb,EAAac,iBAAiB,QAAS,SAACC,GACpCA,EAAEC,iBACIjB,IAAAA,EAAQ9B,EAAY8B,MAE1BM,EADeH,EAAa,UAAYH,EACxBX,EAAT,kBAKT6B,EAAuB,WACzBZ,EAAQF,EAAc9B,EAAf,wBAIL6C,EAAuB,WACzBb,EAAQD,EAAcrB,EAAf,wBAIXkC,IACAC,IACAL","file":"main.64cea91d.js","sourceRoot":"..","sourcesContent":["const searchInput = document.querySelector('.search__input');\nconst imageBaseURL = 'https://image.tmdb.org/t/p/w500/';\n\n// Poster placeholder\nimport posterPlaceholder from '../img/poster_unavailable.jpg';\n\n\n// HANDLE UPCOMING MOVIES DISPLAY\nexport const displayUpcomingMovies = (obj) => {\n    const upcoming = document.querySelector('.upcoming__movies');\n    const movie = obj.results[0];\n\n    let moviePoster = `\n        <div class=\"upcoming__card--wrapper\">\n            <div class=\"upcoming__poster--container\">\n                <img src=${imageBaseURL + movie.poster_path} class=\"upcoming__poster\" alt=\"\" />\n            </div>\n            <div class=\"upcoming__description\">\n                <h1 class=\"upcoming__title\">${movie.title}</h1>\n                <div class=\"upcoming__text--container\">\n                    <p class=\"upcoming__story\">Story</p>\n                    <p class=\"upcoming__story--description\">${movie.overview}</p>\n                </div>\n            </div>\n        </div>`;\n    \n    // let movie = '';\n    // movies.forEach(item => {\n    //     movie +=`\n    //     <div class=\"upcoming__card--wrapper\">\n    //         <div class=\"upcoming__poster--container\">\n    //             <img src=${imageBaseURL + item.poster_path} class=\"upcoming__poster\" alt=\"\" />\n    //         </div>\n    //         <div class=\"upcoming__description\">\n    //             <h1 class=\"upcoming__title\">${item.title}</h1>\n    //             <div>\n    //                 <p class=\"upcoming__story\">Story</p>\n    //                 <p class=\"upcoming__story--description\">${item.overview}</p>\n    //             </div>\n    //         </div>\n    //     </div>`;\n    // })\n\n    // Output results\n    upcoming.innerHTML = moviePoster;\n}\n\n// Display Top Rated movies\nexport const displayTopRatedMovies = (obj) => {\n    const topRated = document.querySelector('.top__rated--movies');\n    const movies = obj.results;\n    \n    let movie = '';\n    movies.forEach(item => {\n        movie +=`\n        <div class=\"top__rated--wrapper\">\n            <img src=${imageBaseURL + item.poster_path} class=\"top__rated--poster\" alt=\"\" />\n        </div>`;\n    })\n\n    // Output results\n    topRated.innerHTML = movie;\n}\n\n\n\n// HANDLE SEARCH DISPLAY\nexport const displaySearch = (obj) => {\n    const upcomingContainer = document.querySelector('.upcoming');\n    const topRatedContainer = document.querySelector('.top__rated');\n    const output = document.querySelector('.output');\n    const heading = document.querySelector('.search__results--heading');\n    const data = [obj];\n    const movies = data[0].results;\n    const count = obj.total_results;\n\n    // clear container\n    upcomingContainer.classList.add('hideAll');\n    topRatedContainer.classList.add('hideAll');\n\n    if (count === 0) {\n        heading.innerText = 'No results found.';\n    } else {\n        heading.innerText = `${count} results found`;\n    }\n    \n    let movie = '';\n    movies.forEach(item => {\n\n        movie +=`\n            <div class=\"template__wrapper\">\n                <img src=${item.poster_path === null ? posterPlaceholder : imageBaseURL + item.poster_path} class=\"search__movie--poster\" alt=\"\" />\n                <h4 class=\"movie__title\">${item.title}</h4>\n                <button class=\"more__details\">More details</button>\n            </div>`;\n    })\n\n    // Output results\n    output.innerHTML = movie;\n\n    // Clear input field\n    searchInput.value = '';\n}\n\n\n// // test handle one\n// export const displayOne = (obj) => {\n//     const output = document.querySelector('.welcome__section');\n//     const data = [obj];\n//     const movies = data[0].results[0];\n//     const title = movies.title;\n//     const poster = movies.poster_path;\n//     const story = movies.overview;\n\n//     let movie =\n//             `<div class=\"welcome__title--container\">\n//             <div>\n//                 <h1 class=\"welcome__title\">${title}</h1>\n//                 <p class=\"welcome__title--text\">20 december <span>|</span> Fantasy, Drama</p>\n//             </div>\n//             </div>\n//             <div class=\"welcome__poster--container\">\n//             <img class=\"welcome__poster\" src=${imageBaseURL + poster} alt=\"\">\n//             </div>\n//             <div class=\"description__container\">\n//             <h3 class=\"welcome__story--title\">The Story</h3>\n//             <p class=\"welcome__story--description\">${story}</p>\n//             </div>`;\n\n//     // Output results\n//     output.innerHTML = movie;\n// }","import { displayUpcomingMovies, displayTopRatedMovies, displaySearch } from './utils.js';\n\nconst searchInput = document.querySelector('.search__input');\nconst searchButton = document.querySelector('.search');\n// const previousButton = document.querySelector('.upcoming__previous--button');\n// const nextButton = document.querySelector('.upcoming__next--button');\n\n// let slideCounter = 0;\n// const upcomingCardContainerWidth = container[0].clientWidth;\n\nconst api_key = process.env.API_KEY;\nconst search_url = 'https://api.themoviedb.org/3/search/movie?api_key=' + api_key;\nconst upcoming_URL = 'https://api.themoviedb.org/3/movie/upcoming?api_key=' + api_key;\nconst topRated_URL = 'https://api.themoviedb.org/3/movie/top_rated?api_key=' + api_key;\n\n// Get data\nconst getData = (url, func) => {\n    fetch(url)\n        .then(response => response.json())\n        .then(data => func(data))\n}\n\n// Handle movie search\nconst searchMovie = () => {\n    searchButton.addEventListener('click', (e) => {\n        e.preventDefault();\n        const value = searchInput.value;\n        const newURL = search_url + '&query=' + value;\n        getData(newURL, displaySearch);\n    })\n}\n\n// Handle upcoming movies\nconst handleUpcomingMovies = () => {\n    getData(upcoming_URL, displayUpcomingMovies);\n}\n\n// Handle top rated movies\nconst handleTopRatedMovies = () => {\n    getData(topRated_URL, displayTopRatedMovies);\n}\n\n\nhandleUpcomingMovies();\nhandleTopRatedMovies();\nsearchMovie();\n\n\n"]}