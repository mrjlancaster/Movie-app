{"version":3,"sources":["js/movieSearch.js","js/welcome.js","js/findById.js","js/topRatedMovies.js","js/popular.js","js/latest.js","js/main.js"],"names":["searchInput","document","querySelector","imageBaseURL","backdrop_image","displaySearch","obj","topRatedContainer","output","heading","result","results","count","total_results","classList","add","innerText","movie","tvShows","forEach","item","media_type","poster_path","posterPlaceholder","id","title","name","innerHTML","value","welcome","poster","backdrop_path","overview","movieById_URL","style","backgroundImage","console","log","fetch","then","response","json","movieById","genres","moviePoster","catch","error","findById","data","cardWrapper","releaseDate","release_date","split","genreList","card","vote_average","runtime","homepage","displayTopRatedMovies","topRated","topRatedHeading","movies","displayPopular","popular","popularHeading","displayLatest","latest","latestHeading","searchButton","api_key","multiSearch_url","upcoming_URL","topRated_URL","popular_URL","latest_URL","getData","url","func","addEventListener","e","keyCode","searchMovie","handleData","displayUpcomingMovies","handleModal","modal","modalCard","remove","target","movieID","dataset","movieId","tagName","toLowerCase"],"mappings":"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","file":"main.48484e4a.js","sourceRoot":"..","sourcesContent":["const searchInput = document.querySelector('.search__input');\nconst imageBaseURL = 'https://image.tmdb.org/t/p/w500/';\nconst backdrop_image = 'https://image.tmdb.org/t/p/original/'\n\n// Poster placeholder\nimport posterPlaceholder from '../img/poster_unavailable.jpg';\n\n// HANDLE SEARCH DISPLAY\nexport const displaySearch = (obj) => {\n    const topRatedContainer = document.querySelector('.top__rated');\n    const output = document.querySelector('.output');\n    const heading = document.querySelector('.search__results--heading');\n    const result = obj.results;\n    const count = obj.total_results;\n\n    // clear top rated container\n    topRatedContainer.classList.add('hideAll');\n\n    if (count === 0) {\n        heading.innerText = 'No results found.';\n    } else {\n        heading.innerText = `${count} results found`;\n    }\n    \n    let movie = '';\n    let tvShows = '';\n\n    result.forEach(item => {\n        if (item.media_type === 'movie') {\n            movie +=`\n            <div class=\"template__wrapper\">\n                <img src=${item.poster_path === null ? posterPlaceholder : imageBaseURL + item.poster_path} data-movie-id=${item.id} class=\"search__movie--poster\" alt=\"\" />\n                <h4 class=\"search__movie--title\">${item.title}</h4>\n            </div>`;\n        } else if (item.media_type === 'tv') {\n            tvShows +=`\n            <div class=\"template__wrapper\">\n                <img src=${item.poster_path === null ? posterPlaceholder : imageBaseURL + item.poster_path} data-movie-id=${item.id} class=\"search__movie--poster\" alt=\"\" />\n                <h4 class=\"search__movie--title\">${item.name}</h4>\n            </div>`;\n        }\n    })\n\n    // Output results\n    output.innerHTML = movie + tvShows;\n\n    // Clear input field\n    searchInput.value = '';\n}","const imageBaseURL = 'https://image.tmdb.org/t/p/original/';\n\nexport const welcome = (obj) => {\n    const welcome = document.querySelector('.welcome');\n    const movie = obj.results[11];\n    const poster = imageBaseURL + movie.backdrop_path;\n    const title = movie.title;\n    const overview = movie.overview;\n    const movieById_URL = 'https://api.themoviedb.org/3/movie/' + movie.id + '?api_key=' + process.env.API_KEY + '&language=en-US';\n\n    // Add background poster to welcome container\n    welcome.style.backgroundImage = `url(${poster})`;\n\n    console.log(obj);\n    // get current movie info\n    fetch(movieById_URL)\n        .then(response => response.json())\n        .then(movieById => {\n            const genres = movieById.genres; // returns an array\n\n            let moviePoster = `\n                <div class=\"welcome__content\">\n                    <h1 class=\"welcome__title\">${title}</h1>\n                    <div class=\"welcome__description--container\">\n                        <p class=\"welcome__description\">${overview}</p>\n                        <a href=\"#\" target=\"_blank\" class=\"welcome__button\">View more <i class=\"fas fa-long-arrow-alt-right\"></i></a>\n                    </div>\n                </div>`;\n            \n            // Output results\n            welcome.innerHTML = moviePoster;\n        })\n        .catch(error => error);\n}","const imageBaseURL = \"https://image.tmdb.org/t/p/w500/\";\n\nexport const findById = (id) => {\n  fetch(\n    \"https://api.themoviedb.org/3/movie/\" +\n      id +\n      \"?api_key=\" +\n      process.env.API_KEY +\n      \"&language=en-US\"\n  )\n    .then((response) => response.json())\n    .then((data) => {\n      const cardWrapper = document.querySelector(\".modal__card\");\n      console.log(data);\n      const genres = data.genres;\n      const releaseDate = data.release_date.split(\"-\");\n\n      let genreList = \"\";\n      genres.forEach((item) => {\n        genreList += `<li class=\"modal__item\">${item.name}</li>`;\n      });\n\n      let card = `\n                    <div class=\"modal__poster--container\">\n                        <img src=${\n                          imageBaseURL + data.poster_path\n                        } alt=\"Poster\" class=\"modal__poster\">\n                    </div>\n                    <div class=\"modal__content\">\n                        <div class=\"modal__title--wrapper\">\n                            <p class=\"modal__rate\"><span class=\"modal__rate--sizeup\"><i class=\"fas fa-star\"></i> ${\n                              data.vote_average\n                            }</span> / 10</p>\n                            <h1 class=\"modal__title\">${data.title}</h1>\n                            <ul class=\"modal__list\">${genreList}</ul>\n                            <p class=\"modal__releaseDate\">Release date: ${\n                              releaseDate[1]\n                            }, ${releaseDate[2]}, ${releaseDate[0]}</p>\n                            <p clas=\"modal__runtime\">Duration: ${\n                              data.runtime\n                            }min</p>\n                        </div>\n                        <div class=\"modal__synopsis--wrapper\">\n                            <h3 class=\"modal__overview--heading\">Synopsis</h3>\n                            <p class=\"modal__overview\">${data.overview}</p>\n                            <a href=\"${\n                              data.homepage\n                            }\" target=\"_blank\" class=\"modal__button\">Homepage <i class=\"fas fa-long-arrow-alt-right\"></i></a>\n                        </div>\n                    </div>`;\n\n      cardWrapper.innerHTML = card;\n    })\n    .catch((error) => error);\n};\n","const imageBaseURL = 'https://image.tmdb.org/t/p/w342/';\n\nexport const displayTopRatedMovies = (obj) => {\n    const topRated = document.querySelector('.top__rated--movies');\n    const topRatedHeading = document.querySelector('.top__rated--heading');\n    const movies = obj.results;\n    \n    // Insert heading\n    topRatedHeading.innerText = 'Top Rated Movies';\n\n\n    // Create movie card\n    let movie = '';\n    movies.forEach(item => {\n        movie +=`\n        <div class=\"top__rated--wrapper\">\n            <img src=${imageBaseURL + item.poster_path} data-movie-id=${item.id} class=\"top__rated--poster\" alt=\"\" />\n            <p class=\"top__rated--title\">${item.title}</p>\n        </div>`;\n    })\n\n    // Output results\n    topRated.innerHTML = movie;\n}","const imageBaseURL = 'https://image.tmdb.org/t/p/w342/';\n\nexport const displayPopular = (obj) => {\n    const popular = document.querySelector('.popular__movies');\n    const popularHeading = document.querySelector('.popular__heading');\n    const movies = obj.results;\n    \n    // Insert heading\n    popularHeading.innerText = 'Popular Movies';\n\n\n    // Create movie card\n    let movie = '';\n    movies.forEach(item => {\n        movie +=`\n        <div class=\"popular__wrapper\">\n            <img src=${imageBaseURL + item.poster_path} data-movie-id=${item.id} class=\"popular__poster\" alt=\"\" />\n            <p class=\"popular__title\">${item.title}</p>\n        </div>`;\n    })\n\n    // Output results\n    popular.innerHTML = movie;\n}","const imageBaseURL = 'https://image.tmdb.org/t/p/w342/';\n\nexport const displayLatest = (obj) => {\n    const latest = document.querySelector('.latest__movies');\n    const latestHeading = document.querySelector('.latest__heading');\n    const movies = obj.results;\n    \n    // Insert heading\n    latestHeading.innerText = 'Playing on theatre NOW!';\n\n\n    // Create movie card\n    let movie = '';\n    movies.forEach(item => {\n        movie +=`\n        <div class=\"latest__wrapper\">\n            <img src=${imageBaseURL + item.poster_path} data-movie-id=${item.id} class=\"latest__poster\" alt=\"\" />\n            <p class=\"latest__title\">${item.title}</p>\n        </div>`;\n    })\n\n    // Output results\n    latest.innerHTML = movie;\n}","import { displaySearch } from \"./movieSearch.js\";\nimport { welcome } from \"./welcome.js\";\nimport { findById } from \"./findById.js\";\nimport { displayUpcomingMovies } from \"./upcomingMovies.js\";\nimport { displayTopRatedMovies } from \"./topRatedMovies.js\";\nimport { displayPopular } from \"./popular.js\";\nimport { displayLatest } from \"./latest.js\";\n\nconst searchInput = document.querySelector(\".search__input\");\nconst searchButton = document.querySelector(\".search\");\n\nconst api_key = process.env.API_KEY;\nconst multiSearch_url = \"https://api.themoviedb.org/3/search/multi?api_key=\" + api_key + \"&include_adult=false\";\nconst upcoming_URL = \"https://api.themoviedb.org/3/movie/upcoming?api_key=\" + api_key;\nconst topRated_URL = \"https://api.themoviedb.org/3/movie/top_rated?api_key=\" + api_key;\nconst popular_URL = \"https://api.themoviedb.org/3/movie/popular?api_key=\" + api_key;\nconst latest_URL = `https://api.themoviedb.org/3/movie/now_playing?api_key=${api_key}&language=en-US&page=1`;\n\n// Get data\nconst getData = (url, func) => {\n  fetch(url)\n    .then((response) => response.json())\n    .then((data) => func(data))\n    .catch((error) => error);\n};\n\n//  SEARCH BAR EVENT LISTENERS\nsearchInput.addEventListener(\"keyup\", (e) => {\n  if (searchInput.value === \"\") {\n    false;\n  } else {\n    if (e.keyCode === 13) {\n      searchMovie();\n    }\n  }\n});\n\nsearchButton.addEventListener(\"click\", () => {\n  if (searchInput.value === \"\") {\n    false;\n  } else {\n    searchMovie();\n  }\n});\n\n// Handle movie search\nconst searchMovie = () => {\n  const value = searchInput.value;\n  const multipleSearch = multiSearch_url + \"&query=\" + value;\n  getData(multipleSearch, displaySearch);\n};\n\n// Handle data\nconst handleData = () => {\n  // handle welcome section\n  getData(upcoming_URL, welcome);\n  // handle upcoming movies\n  getData(upcoming_URL, displayUpcomingMovies);\n  // handle top rated movies\n  getData(topRated_URL, displayTopRatedMovies);\n  // handle popular movies\n  getData(popular_URL, displayPopular);\n  // handle latest movies\n  getData(latest_URL, displayLatest);\n};\n\n// Display movie info on click\nconst handleModal = () => {\n  const modal = document.querySelector(\".modal\");\n  const modalCard = document.querySelector(\".modal__card\");\n  const closeModal = document.querySelector(\".close__modal\");\n\n  closeModal.addEventListener(\"click\", () => {\n    modalCard.innerHTML = \"\";\n    modal.classList.remove(\"isShown\");\n  });\n\n  document.addEventListener(\"click\", (e) => {\n    const target = e.target;\n    const movieID = target.dataset.movieId;\n\n    if (target.tagName.toLowerCase() === \"img\") {\n      modal.classList.add(\"isShown\");\n      findById(movieID);\n    }\n  });\n};\n\nhandleModal();\nhandleData();\n"]}